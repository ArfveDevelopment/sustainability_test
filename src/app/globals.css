@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {

  /* Base HTML and body styles for full-page layout */
  html,
  body {
    width: 100%;
    min-width: 100vw;
    height: 100%;
    min-height: 100vh;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    overflow-x: hidden;
    background-color: #000000;
  }

  /* Prevent layout shifts during resize */
  html {
    overflow-y: scroll;
  }

  /* Performance optimizations for smoother resize */
  * {
    box-sizing: border-box;
  }

  /* Prevent transitions during resize to avoid stuttering */
  *,
  *::before,
  *::after {
    transition: none !important;
  }

  /* Only allow specific transitions on elements that need them */
  button,
  a,
  input,
  textarea,
  select {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, opacity 0.3s ease !important;
  }

  /* Enable GPU acceleration for GSAP animated elements */
  [data-gsap] {
    will-change: auto;
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
  }

  /* Optimize images and videos for resize */
  img,
  video {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Smooth responsive transitions for better UX - removed to prevent stuttering on resize */
  /* Transitions should be applied selectively to specific elements, not globally */

  /* Fix alignment for images and videos - override Tailwind base styles */
  header img,
  header video,
  a img,
  .flex img {
    vertical-align: top !important;
    display: inline-block !important;
  }

  /* Ensure images in flex containers align properly */
  .flex.items-center img {
    vertical-align: top !important;
  }
}

@layer utilities {

  /* Text shadow utility for survey content */
  .text-shadow {
    text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25), 0px 4px 4px rgba(0, 0, 0, 0.25);
  }

  /* Progressive image enhancement for modern formats */
  @supports (background-image: url('data:image/avif;base64,')) {
    .hero-image-modern {
      background-image: url('/heroimg.avif') !important;
    }
  }

  @supports (background-image: url('data:image/webp;base64,')) and (not (background-image: url('data:image/avif;base64,'))) {
    .hero-image-modern {
      background-image: url('/heroimg.webp') !important;
    }
  }

  /* Animation utilities used in the project */

  /* Carousel scroll animation with smooth loop */
  @keyframes scroll-loop {
    0% {
      transform: translateX(0);
    }

    90% {
      transform: translateX(calc(-100% + 2rem));
    }

    100% {
      transform: translateX(calc(-100% + 2rem));
    }
  }

  .animate-scroll-loop {
    animation: scroll-loop 25s ease-in-out infinite;
    width: calc(400% + 6rem);
  }

  .animate-scroll-loop:hover {
    animation-play-state: paused;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleInFade {
    from {
      opacity: 0;
      transform: scale(0.9);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Flip animation for countdown timer */
  @keyframes flip {
    0% {
      transform: rotateY(0deg);
    }

    100% {
      transform: rotateY(180deg);
    }
  }
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  box-shadow: 0 0 0px 1000px rgba(255, 255, 255, 0.08) inset !important;
  -webkit-box-shadow: 0 0 0px 1000px rgba(255, 255, 255, 0.08) inset !important;
  -webkit-text-fill-color: #F2F4F7 !important;
  caret-color: #F2F4F7 !important;
  transition: background-color 5000s ease-in-out 0s;
}